(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"/S4K":function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}n.d(t,"a",(function(){return i}))},"1pn/":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("6kNP"),n("8npG"),n("CtJk");var r=n("kD0k"),i=n.n(r),o=n("/S4K"),a=n("x1CH"),u=n("qKbb");a.a._parseImageNode;function s(e,t){if(a.a._parseImageNode){var n=Object(u.b)(e).mimeType;return a.a._parseImageNode(e,n,t)}return function(e,t){if("undefined"==typeof createImageBitmap)throw new Error("parseImage");var n=new Blob([new Uint8Array(e)]);return createImageBitmap(n)}(e)}function c(e){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(i.a.mark((function e(t){var n,r,o,a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:{},"undefined"!=typeof Image){e.next=9;break}return e.next=4,fetch(t,n);case 4:return r=e.sent,e.next=7,r.arrayBuffer();case 7:return o=e.sent,e.abrupt("return",s(o,n));case 9:return e.next=11,l(t,n);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,t){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(i.a.mark((function e(t,n){var r,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!/\.svg((\?|#).*)?$/.test(t)){e.next=10;break}return e.next=3,fetch(t,n);case 3:return o=e.sent,e.next=6,o.text();case 6:a=e.sent,r="data:image/svg+xml;base64,".concat(btoa(a)),e.next=13;break;case 10:return e.next=12,t;case 12:r=e.sent;case 13:return e.next=15,new Promise((function(e,i){try{var o=new Image;o.onload=function(){return e(o)},o.onerror=function(e){return i(new Error("Could not load image ".concat(t,": ").concat(e)))},o.crossOrigin=n&&n.crossOrigin||"anonymous",o.src=r}catch(a){i(a)}}));case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},HGgG:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n("E5k/"),n("5irr"),n("h3Sa");var r=n("PG+Z"),i=n("BunF");var o=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),a=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),u=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),s=new Float32Array([0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1]),c={POSITION:{size:3,value:new Float32Array(a)},NORMAL:{size:3,value:new Float32Array(u)},TEXCOORD_0:{size:2,value:new Float32Array(s)}},f=function(e){var t,n;function r(t){void 0===t&&(t={});var n=t.id,r=void 0===n?Object(i.c)("cube-geometry"):n;return e.call(this,Object.assign({},t,{id:r,indices:{size:1,value:new Uint16Array(o)},attributes:Object.assign({},c,{},t.attributes)}))||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(r.a)},"PG+Z":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("YBKJ"),n("9ZhD"),n("E5k/");var r=n("BunF"),i=n("Iq2B");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var u={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},s=function(){function e(e){void 0===e&&(e={});var t=e,n=t.id,i=void 0===n?Object(r.c)("geometry"):n,o=t.drawMode,a=void 0===o?u.TRIANGLES:o,s=t.attributes,c=void 0===s?{}:s,f=t.indices,l=void 0===f?null:f,v=t.vertexCount,p=void 0===v?null:v;this.id=i,this.drawMode=0|a,this.attributes={},this.userData={},this._setAttributes(c,l),this.vertexCount=p||this._calculateVertexCount(this.attributes,this.indices)}a(e,null,[{key:"DRAW_MODE",get:function(){return u}}]);var t=e.prototype;return t.getVertexCount=function(){return this.vertexCount},t.getAttributes=function(){return this.indices?Object.assign({indices:this.indices},this.attributes):this.attributes},t._print=function(e){return"Geometry "+this.id+" attribute "+e},t._setAttributes=function(e,t){for(var n in t&&(this.indices=ArrayBuffer.isView(t)?{value:t,size:1}:t),e){var r=e[n];r=ArrayBuffer.isView(r)?{value:r}:r,Object(i.a)(ArrayBuffer.isView(r.value),this._print(n)+": must be typed array or object with value as typed array"),"POSITION"!==n&&"positions"!==n||r.size||(r.size=3),"indices"===n?(Object(i.a)(!this.indices),this.indices=r):this.attributes[n]=r}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this},t._calculateVertexCount=function(e,t){if(t)return t.value.length;var n=1/0;for(var r in e){var o=e[r],a=o.value,u=o.size;!o.constant&&a&&u>=1&&(n=Math.min(n,a.length/u))}return Object(i.a)(Number.isFinite(n)),n},a(e,[{key:"mode",get:function(){return this.drawMode}}]),e}()},XhCi:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("z0FI"),a=(n("E5k/"),n("73Rc")),u=n.n(a),s=n("HGgG"),c=n("UD/Y"),f=n("bjw9"),l=n("WY7U"),v=n("2urO"),p=n("lHlH"),d=n("WUN0"),g=n("gmAo"),b=n("1pn/");function h(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var y=function(e){function t(t,n){return e.call(this,t,Object.assign({geometry:new s.a},n,{fs:"precision highp float;\n\nuniform samplerCube uTextureCube;\nvarying vec3 vPosition;\n\nvoid main(void) {\n  // The outer cube just samples the texture cube directly\n  gl_FragColor = textureCube(uTextureCube, normalize(vPosition));\n}\n",vs:"attribute vec3 positions;\n\nuniform mat4 uModel;\nuniform mat4 uView;\nuniform mat4 uProjection;\n\nvarying vec3 vPosition;\n\nvoid main(void) {\n  gl_Position = uProjection * uView * uModel * vec4(positions, 1.0);\n  vPosition = positions;\n}\n"}))||this}return h(t,e),t}(c.a),m=function(e){function t(t,n){return e.call(this,t,Object.assign({geometry:new s.a},n,{vs:"attribute vec3 positions;\nattribute vec3 normals;\nattribute vec2 texCoords;\n\nuniform mat4 uModel;\nuniform mat4 uView;\nuniform mat4 uProjection;\n\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec2 vUV;\n\nvoid main(void) {\n  gl_Position = uProjection * uView * uModel * vec4(positions, 1.0);\n  vPosition = vec3(uModel * vec4(positions,1));\n  vNormal = vec3(uModel * vec4(normals, 0));\n  vUV = texCoords;\n}\n",fs:"precision highp float;\n\nuniform sampler2D uTexture;\nuniform samplerCube uTextureCube;\nuniform vec3 uEyePosition;\n\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec2 vUV;\n\nvoid main(void) {\n  vec4 color = texture2D(uTexture, vUV);\n  vec3 reflectedDir = reflect(normalize(vPosition - uEyePosition), vNormal);\n  vec4 reflectedColor = textureCube(uTextureCube, reflectedDir);\n\n  gl_FragColor = color * reflectedColor;\n}\n"}))||this}return h(t,e),t}(c.a),w=function(e){function t(){return e.apply(this,arguments)||this}h(t,e),t.getInfo=function(){return"\n<p>\nUses a luma.gl <code>TextureCube</code> to simulate a reflective\nsurface\n</p>\n"};var n=t.prototype;return n.onInitialize=function(e){var t,n,r=e.gl;e.canvas;Object(p.c)(r,{clearColor:[0,0,0,1],clearDepth:1,depthTest:!0,depthFunc:u.a.LEQUAL});var i=new l.a(r,{data:(t={},t[r.TEXTURE_CUBE_MAP_POSITIVE_X]=Object(b.a)("sky-posx.png"),t[r.TEXTURE_CUBE_MAP_NEGATIVE_X]=Object(b.a)("sky-negx.png"),t[r.TEXTURE_CUBE_MAP_POSITIVE_Y]=Object(b.a)("sky-posy.png"),t[r.TEXTURE_CUBE_MAP_NEGATIVE_Y]=Object(b.a)("sky-negy.png"),t[r.TEXTURE_CUBE_MAP_POSITIVE_Z]=Object(b.a)("sky-posz.png"),t[r.TEXTURE_CUBE_MAP_NEGATIVE_Z]=Object(b.a)("sky-negz.png"),t)}),o=new v.a(r,{data:"vis-logo.png",mipmaps:!0,parameters:(n={},n[r.TEXTURE_MAG_FILTER]=r.LINEAR,n[r.TEXTURE_MIN_FILTER]=r.LINEAR_MIPMAP_NEAREST,n)});return{cube:new y(r,{uniforms:{uTextureCube:i,uModel:(new d.a).scale([20,20,20])}}),prism:new m(r,{uniforms:{uTextureCube:i,uTexture:o}})}},n.onRender=function(e){var t=e.gl,n=e.aspect,r=e.cube,i=e.prism,o=e.tick,a=[5,-3,5],s=(new d.a).lookAt({eye:a}),c=(new d.a).perspective({fov:Object(g.e)(75),aspect:n});t.clear(u.a.COLOR_BUFFER_BIT|u.a.DEPTH_BUFFER_BIT),r.draw({uniforms:{uView:s,uProjection:c}}),i.draw({uniforms:{uEyePosition:a,uView:s,uProjection:c,uModel:(new d.a).rotateX(.01*o).rotateY(.013*o)}})},t}(f.a);"undefined"==typeof window||window.website||(new w).start();n.d(t,"default",(function(){return _}));var _=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return i.a.createElement(o.a,{AnimationLoop:w,exampleConfig:this.props.pageContext.exampleConfig})},r}(i.a.Component)},qKbb:function(e,t,n){"use strict";n("t+I+"),n("m210"),n("4DPX"),n("rzGZ"),n("Dq+y"),n("8npG"),n("YbXK"),n("cFtU");var r=n("8j0Q"),i=(n("ToIb"),n("xJgp"),!1),o=!0,a=new Map([["image/png",{test:function(e){return e.byteLength>=24&&2303741511===e.getUint32(0,i)},getSize:function(e){return{width:e.getUint32(16,i),height:e.getUint32(20,i)}}}],["image/jpeg",{test:function(e){return e.byteLength>=3&&65496===e.getUint16(0,i)&&255===e.getUint8(2,i)},getSize:function(e){if(e.byteLength<2||65496!==e.getUint16(0,i))return null;var t=function(){for(var e=new Set([65499,65476,65484,65501,65534]),t=65504;t<65520;++t)e.add(t);var n=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:n}}(),n=t.tableMarkers,r=t.sofMarkers,o=2;for(;o<e.byteLength;){var a=e.getUint16(o,i);if(r.has(a))return{height:e.getUint16(o+5,i),width:e.getUint16(o+7,i)};if(!n.has(a))return null;o+=2,o+=e.getUint16(o,i)}return null}}],["image/gif",{test:function(e){return e.byteLength>=10&&1195984440===e.getUint32(0,i)},getSize:function(e){return{width:e.getUint16(6,o),height:e.getUint16(8,o)}}}],["image/bmp",{test:function(e){return e.byteLength>=2&&16973===e.getUint16(0,i)},getSize:function(e){return{width:e.getUint32(18,o),height:e.getUint32(22,o)}}}]]);n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var u="Invalid MIME type. Supported MIME types are: ".concat(Array.from(a.keys()).join(", "));function s(e){var t=l(e),n=!0,i=!1,o=void 0;try{for(var u,s=a.entries()[Symbol.iterator]();!(n=(u=s.next()).done);n=!0){var c=Object(r.a)(u.value,2),f=c[0];if((0,c[1].test)(t))return f}}catch(v){i=!0,o=v}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return null}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(0,f(t=t||s(e)).getSize)(l(e));if(!n)throw new Error("invalid image data for type: ".concat(t));return n}(e,t=t||s(e));return n.mimeType=t,n}function f(e){var t=a.get(e);if(!t)throw new Error(u);return t}function l(e){if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return new DataView(e.buffer||e);throw new Error("toDataView")}},x1CH:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return a}));var i=n("0QZy"),o=("object"!==(void 0===e?"undefined":Object(i.a)(e))||"[object process]"!==String(e)||e.browser,{self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==r&&r}),a=o.global||o.self||o.window}).call(this,n("8oxB"),n("yLpj"))}}]);
//# sourceMappingURL=component---templates-api-example-cubemap-jsx-d1cf713d8f30643c8f73.js.map
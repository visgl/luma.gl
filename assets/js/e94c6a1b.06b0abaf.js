"use strict";(self.webpackChunkwebsite_docusaurus=self.webpackChunkwebsite_docusaurus||[]).push([[5016],{3168:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"api-reference/engine/shader-inputs","title":"ShaderInputs","description":"ShaderInputs holds uniform and binding values for one or more shader modules,","source":"@site/../docs/api-reference/engine/shader-inputs.md","sourceDirName":"api-reference/engine","slug":"/api-reference/engine/shader-inputs","permalink":"/docs/api-reference/engine/shader-inputs","draft":false,"unlisted":false,"editUrl":"https://github.com/visgl/luma.gl/tree/master/docs/../docs/api-reference/engine/shader-inputs.md","tags":[],"version":"current","frontMatter":{},"sidebar":"defaultSidebar","previous":{"title":"Model","permalink":"/docs/api-reference/engine/model"},"next":{"title":"AnimationLoop","permalink":"/docs/api-reference/engine/animation-loop"}}');var d=s(4848),i=s(8453);const o={},t="ShaderInputs",a={},l=[{value:"Usage",id:"usage",level:2},{value:"Types",id:"types",level:2},{value:"<code>ShaderModuleInputs</code>",id:"shadermoduleinputs",level:3},{value:"Methods",id:"methods",level:2},{value:"constructor",id:"constructor",level:3},{value:"<code>destroy()</code>",id:"destroy",level:3},{value:"<code>setProps()</code>",id:"setprops",level:3},{value:"getModules()",id:"getmodules",level:3},{value:"getUniformValues()",id:"getuniformvalues",level:3},{value:"getBindingValues()",id:"getbindingvalues",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"shaderinputs",children:"ShaderInputs"})}),"\n",(0,d.jsx)(n.p,{children:"ShaderInputs holds uniform and binding values for one or more shader modules,"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"It can generate binary data for any uniform buffer"}),"\n",(0,d.jsx)(n.li,{children:"It can manage a uniform buffer for each block"}),"\n",(0,d.jsx)(n.li,{children:"It can update managed uniform buffers with a single call"}),"\n",(0,d.jsx)(n.li,{children:"It performs some book keeping on what has changed to minimize unnecessary writes to uniform buffers."}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,d.jsx)(n.p,{children:"TBA"}),"\n",(0,d.jsx)(n.h2,{id:"types",children:"Types"}),"\n",(0,d.jsx)(n.h3,{id:"shadermoduleinputs",children:(0,d.jsx)(n.code,{children:"ShaderModuleInputs"})}),"\n",(0,d.jsx)(n.p,{children:"Minimal ShaderModule subset, we don't need shader code etc"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"export type ShaderModuleInputs<\n  PropsT extends Record<string, unknown> = Record<string, unknown>,\n  UniformsT extends Record<string, UniformValue> = Record<string, UniformValue>,\n  BindingsT extends Record<string, BindingValue> = Record<string, BindingValue>\n> = {\n  defaultUniforms?: UniformsT;\n  getUniforms?: (props?: any, oldProps?: any) => Record<string, BindingValue | UniformValue>;\n\n  /** Not used. Used to access props type */\n  props?: PropsT;\n\n  bindings?: Record<\n    keyof BindingsT,\n    {\n      location: number;\n      type: 'texture' | 'sampler' | 'uniforms';\n    }\n  >;\n\n  uniformTypes?: any;\n};\n"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"export class ShaderInputs<\n  ShaderPropsT extends Partial<Record<string, Record<string, unknown>>> = Partial<\n    Record<string, Record<string, unknown>>\n  >\n"})}),"\n",(0,d.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,d.jsx)(n.h3,{id:"constructor",children:"constructor"}),"\n",(0,d.jsx)(n.p,{children:"Create a new UniformStore instance"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"  constructor(modules: {[P in keyof ShaderPropsT]?: ShaderModuleInputs<ShaderPropsT[P]>})\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"modules: A mao of shader modules."}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"destroy",children:(0,d.jsx)(n.code,{children:"destroy()"})}),"\n",(0,d.jsxs)(n.p,{children:["Destroys all resources created by this ",(0,d.jsx)(n.code,{children:"ShaderInputs"})," instance."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"destroy(): void {}\n"})}),"\n",(0,d.jsx)(n.h3,{id:"setprops",children:(0,d.jsx)(n.code,{children:"setProps()"})}),"\n",(0,d.jsx)(n.p,{children:"Sets shader module props (which sets uniforms and bindings)."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"setProps(props: Partial<{[P in keyof ShaderPropsT]?: Partial<ShaderPropsT[P]>}>): void {\n"})}),"\n",(0,d.jsx)(n.h3,{id:"getmodules",children:"getModules()"}),"\n",(0,d.jsx)(n.p,{children:"Return the map of modules"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"getModules(): ShaderModule[]\n"})}),"\n",(0,d.jsx)(n.h3,{id:"getuniformvalues",children:"getUniformValues()"}),"\n",(0,d.jsx)(n.p,{children:"Get all uniform values for all modules"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"getUniformValues(): Partial<Record<keyof ShaderPropsT, Record<string, UniformValue>>>\n"})}),"\n",(0,d.jsx)(n.h3,{id:"getbindingvalues",children:"getBindingValues()"}),"\n",(0,d.jsx)(n.p,{children:"Merges all bindings for the shader (from the various modules)"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"getBindingValues(): Record<string, Texture | Sampler>\n"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>t});var r=s(6540);const d={},i=r.createContext(d);function o(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunkwebsite_docusaurus=self.webpackChunkwebsite_docusaurus||[]).push([[2437],{3027:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>x,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"api-reference/engine/dynamic-texture","title":"DynamicTexture","description":"DynamicTexture was called AsyncTexture in v9.1","source":"@site/../docs/api-reference/engine/dynamic-texture.md","sourceDirName":"api-reference/engine","slug":"/api-reference/engine/dynamic-texture","permalink":"/docs/api-reference/engine/dynamic-texture","draft":false,"unlisted":false,"editUrl":"https://github.com/visgl/luma.gl/tree/master/docs/../docs/api-reference/engine/dynamic-texture.md","tags":[],"version":"current","frontMatter":{},"sidebar":"defaultSidebar","previous":{"title":"AnimationLoopTemplate","permalink":"/docs/api-reference/engine/animation-loop-template"},"next":{"title":"loadImageBitmap","permalink":"/docs/api-reference/engine/load-image-bitmap"}}');var i=r(4848),t=r(8453);const a={},d="DynamicTexture",c={},l=[{value:"Usage",id:"usage",level:2},{value:"Types",id:"types",level:2},{value:"Members",id:"members",level:2},{value:"<code>ready</code>",id:"ready",level:3},{value:"<code>isReady</code>",id:"isready",level:3},{value:"<code>texture</code>",id:"texture",level:3},{value:"<code>sampler</code>",id:"sampler",level:3},{value:"<code>view</code>",id:"view",level:3},{value:"Methods",id:"methods",level:2},{value:"constructor",id:"constructor",level:3}];function o(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"dynamictexture",children:"DynamicTexture"})}),"\n",(0,i.jsxs)("p",{class:"badges",children:[(0,i.jsx)("img",{src:"https://img.shields.io/badge/From-v9.2-blue.svg?style=flat-square",alt:"From-v9.2"}),(0,i.jsx)("img",{src:"https://img.shields.io/badge/@luma.gl-engine.svg?style=flat-square",alt:"@luma.gl/engine"})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"DynamicTexture"})," was called ",(0,i.jsx)(n.code,{children:"AsyncTexture"})," in v9.1"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"DynamicTexture"})," class module is designed to make it easier to work with textures in luma.gl. The underlying ",(0,i.jsx)(n.code,{children:"Texture"})," class in ",(0,i.jsx)(n.code,{children:"@luma.gl/core"})," module can be used, however it is not designed for convenience, as it intentionally offers only the minimal API necessary to expose GPU texture capabilities in a portable way."]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:(0,i.jsx)(n.code,{children:"DynamicTexture"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.code,{children:"Texture"})}),(0,i.jsx)(n.th,{children:"Capability"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"\u274c"}),(0,i.jsx)(n.td,{children:"Resize"}),(0,i.jsx)(n.td,{children:"e.g updating textures to match changes in screen size"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"\u274c"}),(0,i.jsx)(n.td,{children:"Async Init"}),(0,i.jsx)(n.td,{children:"avoids callbacks and conditional logic to defer texture init"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\ud83d\udea7"}),(0,i.jsx)(n.td,{children:"\u274c"}),(0,i.jsx)(n.td,{children:"Mipmaps"}),(0,i.jsx)(n.td,{children:"Handles mipmap generation on WebGPU"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Model"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"Model"})," class is ",(0,i.jsx)(n.code,{children:"DynamicTexture"})," aware"]})]})]})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DynamicTexture"})," can be resized.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"This is very useful when developing shader based techniques that need to respond to changes in screen size."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DynamicTexture"}),' can be created and "used" while data is still being loaded.',"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.code,{children:"DynamicTexture"})," class accepts promises that resolve to texture data (images or byte arrays)."]}),"\n",(0,i.jsxs)(n.li,{children:["It postpones the creation of underlying ",(0,i.jsx)(n.code,{children:"Textures"})," until the supplied promise(s) resolve and data is available."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.code,{children:"Model"})," class accepts ",(0,i.jsx)(n.code,{children:"DynamicTextures"})," as bindings wherever a ",(0,i.jsx)(n.code,{children:"Texture"})," or ",(0,i.jsx)(n.code,{children:"TextureView"})," would be accepted","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Model"})," avoids rendering (",(0,i.jsx)(n.code,{children:"Model.draw()"})," call execution) until the underlying texture has been created."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import {DynamicTexture, loadImage} from '@luma.gl/engine';\nconst dynamicTexture = new DynamicTexture({data: loadImage(url)});\nconst model = new Model(device, {source, bindings: {texture: DynamicTexture}});\nconst renderPass = device.createRenderPass();\nmodel.draw(renderPass); // Doesn't draw\n...\nawait dynamicTexture.ready; // Not necessary, just for illustration\nmodel.draw(renderPass); // Draws\n"})}),"\n",(0,i.jsx)(n.h2,{id:"types",children:"Types"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export type DynamicTextureProps = Omit<TextureProps, 'data'> & DynamicTextureDataProps;\n\ntype DynamicTextureDataProps =\n  | DynamicTexture1DProps\n  | DynamicTexture2DProps\n  | DynamicTexture3DProps\n  | DynamicTextureArrayProps\n  | DynamicTextureCubeProps\n  | DynamicTextureCubeArrayProps;\n\ntype DynamicTexture1DProps = {dimension: '1d'; data: Promise<Texture1DData> | Texture1DData | null};\ntype DynamicTexture2DProps = {\n  dimension?: '2d';\n  data: Promise<Texture2DData> | Texture2DData | null;\n};\ntype DynamicTexture3DProps = {dimension: '3d'; data: Promise<Texture3DData> | Texture3DData | null};\ntype DynamicTextureArrayProps = {\n  dimension: '2d-array';\n  data: Promise<TextureArrayData> | TextureArrayData | null;\n};\ntype DynamicTextureCubeProps = {\n  dimension: 'cube';\n  data: Promise<TextureCubeData> | TextureCubeData | null;\n};\ntype DynamicTextureCubeArrayProps = {\n  dimension: 'cube-array';\n  data: Promise<TextureCubeArrayData> | TextureCubeArrayData | null;\n};\n"})}),"\n",(0,i.jsx)(n.h2,{id:"members",children:"Members"}),"\n",(0,i.jsx)(n.h3,{id:"ready",children:(0,i.jsx)(n.code,{children:"ready"})}),"\n",(0,i.jsxs)(n.p,{children:["A promise that resolves when the data has completed loading / preparation and the underlying GPU texture has been created and initialized, or rejects with an ",(0,i.jsx)(n.code,{children:"Error"})," instance describing the failure."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"ready: Promise<void>;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"isready",children:(0,i.jsx)(n.code,{children:"isReady"})}),"\n",(0,i.jsx)(n.p,{children:"A flag that indicates whether data loading / preparation has completed loading and the underlying GPU texture has been created and initialized."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"isReady: boolean;\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Initial value is ",(0,i.jsx)(n.code,{children:"false"}),". Once the ",(0,i.jsx)(n.code,{children:"DynamicTexture.ready"})," promise resolve successfully, the ",(0,i.jsx)(n.code,{children:"DynamicTexture.isReady"})," flag is guaranteed to be true."]}),"\n",(0,i.jsx)(n.h3,{id:"texture",children:(0,i.jsx)(n.code,{children:"texture"})}),"\n",(0,i.jsxs)(n.p,{children:["It is an error to access this member if ",(0,i.jsx)(n.code,{children:"DynamicTexture.isReady"})," is not true)."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"texture: Texture;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"sampler",children:(0,i.jsx)(n.code,{children:"sampler"})}),"\n",(0,i.jsxs)(n.p,{children:["Shortcut to ",(0,i.jsx)(n.code,{children:"DynamicTexture.texture.sampler"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["It is an error to access this member if ",(0,i.jsx)(n.code,{children:"DynamicTexture.isReady"})," is not true)."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"sampler: Sampler;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"view",children:(0,i.jsx)(n.code,{children:"view"})}),"\n",(0,i.jsxs)(n.p,{children:["Shortcut to ",(0,i.jsx)(n.code,{children:"DynamicTexture.texture.view"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["It is an error to access this member if ",(0,i.jsx)(n.code,{children:"DynamicTexture.isReady"})," is not true)."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"view: TextureView;\n"})}),"\n",(0,i.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,i.jsx)(n.h3,{id:"constructor",children:"constructor"}),"\n",(0,i.jsxs)(n.p,{children:["Creates a new ",(0,i.jsx)(n.code,{children:"DynamicTexture"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"new DynamicTexture(device: Device, props: DynamicTextureProps);\n"})})]})}function x(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>d});var s=r(6540);const i={},t=s.createContext(i);function a(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunkwebsite_docusaurus=self.webpackChunkwebsite_docusaurus||[]).push([[7670],{6461:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>p,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"tutorials/README","title":"Setup","description":"These tutorial pages were originally added before the current luma.gl v9 API was released.","source":"@site/../docs/tutorials/README.mdx","sourceDirName":"tutorials","slug":"/tutorials/","permalink":"/docs/tutorials/","draft":false,"unlisted":false,"editUrl":"https://github.com/visgl/luma.gl/tree/master/docs/../docs/tutorials/README.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"defaultSidebar","previous":{"title":"Upgrade Guide","permalink":"/docs/upgrade-guide"},"next":{"title":"Hello Triangle","permalink":"/docs/tutorials/hello-triangle"}}');var o=i(4848),r=i(8453);const l={},s="Setup",a={},d=[{value:"A Minimal Application",id:"a-minimal-application",level:2},{value:"Build Tooling",id:"build-tooling",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"setup",children:"Setup"})}),"\n",(0,o.jsx)(n.admonition,{type:"caution",children:(0,o.jsx)(n.p,{children:"These tutorial pages were originally added before the current luma.gl v9 API was released.\nThey are maintained on a best-effort basis and may not be fully up to date.\nContributions are welcome!"})}),"\n",(0,o.jsxs)(n.p,{children:["This tutorial will walk you through setting up a basic development project for luma.gl applications using ",(0,o.jsx)(n.a,{href:"https://vitejs.dev/",children:"Vite"})," tooling. Later tutorials will build on this one, so we recommend going through it first."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Note:"})," It is assumed for these tutorials that you have some basic knowledge of GPU APIs and JavaScript programming."]}),"\n",(0,o.jsx)(n.h2,{id:"a-minimal-application",children:"A Minimal Application"}),"\n",(0,o.jsxs)(n.p,{children:["Create a new folder on your file system to store your new project.\nThen let's create a file ",(0,o.jsx)(n.code,{children:"app.ts"})," in the project root folder and add the following to it:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import type {AnimationProps} from '@luma.gl/engine';\nimport {AnimationLoop} from '@luma.gl/engine';\n\nconst loop = new AnimationLoop({\n  override onInitialize({device}: AnimationProps) {\n    // Setup logic goes here\n  },\n\n  override onFinalize({device}: AnimationProps) {\n    // Teardown logic goes here\n  },\n\n  override onRender({device}: AnimationProps) {\n    // Drawing logic goes here\n  }\n});\n\nloop.start();\n"})}),"\n",(0,o.jsx)(n.p,{children:"This will be the basic structure of most luma.gl applications.\nTo make sure everything works, let's add a draw command:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import {AnimationLoop} from '@luma.gl/engine';\nimport {clear} from '@luma.gl/webgl';\n\nconst loop = new AnimationLoop({\n  override onRender({device}) {\n    // Drawing logic goes here\n    clear(device, {color: [0, 0, 0, 1]});\n  }\n});\n\nloop.start();\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Since this is a web application, you will also want to create a minimal ",(0,o.jsx)(n.code,{children:"index.html"})," web page to start the app:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<!doctype html>\n<script type="module">\n  import \'./app.ts\';\n<\/script>\n<body style="margin: 0;">\n  <canvas id="canvas" style="width: 100vw; height: 100vh;"></canvas>\n</body>\n'})}),"\n",(0,o.jsx)(n.h2,{id:"build-tooling",children:"Build Tooling"}),"\n",(0,o.jsx)(n.p,{children:"We will need the following files in the project folder:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"- package.json\n- vite.config.ts\n- app.ts\n- index.html\n"})}),"\n",(0,o.jsx)(n.p,{children:"From the command line, first run"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"mkdir luma-demo\ncd luma-demo\nnpm init -y\n"})}),"\n",(0,o.jsx)(n.p,{children:"to set up our project directory and initialize npm."}),"\n",(0,o.jsx)(n.p,{children:"Next run"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm i @luma.gl/engine @luma.gl/webgl\nnpm i -D vite typescript\n"})}),"\n",(0,o.jsx)(n.p,{children:"to install our dependencies."}),"\n",(0,o.jsxs)(n.p,{children:["Open the file ",(0,o.jsx)(n.code,{children:"package.json"})," (created when we initialized npm), and add the following to the ",(0,o.jsx)(n.code,{children:"scripts"})," block:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "scripts": {\n    "start": "vite",\n    "serve": "vite preview"\n  },\n  "dependencies": {\n    "@luma.gl/engine": "9.2.0-alpha.1",\n    "@luma.gl/webgl": "9.2.0-alpha.1",\n  },\n  "devDependencies": {\n    "typescript": "^5.5.0",\n    "vite": "^7.2.2"\n  }\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["The full contents of the ",(0,o.jsx)(n.code,{children:"package.json"})," should be the following (dependency version numbers might differ):"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "name": "luma-demo",\n  "version": "1.0.0",\n  "description": "",\n  "keywords": [],\n  "author": "",\n  "license": "ISC",\n  "main": "index.js",\n  "scripts": {\n    "start": "vite",\n    "serve": "vite preview"\n  },\n  "dependencies": {\n    "@luma.gl/engine": "9.2.0-alpha.1",\n    "@luma.gl/webgl": "9.2.0-alpha.1",\n  },\n  "devDependencies": {\n    "typescript": "^5.5.0",\n    "vite": "^7.2.2"\n  }\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Create a file ",(0,o.jsx)(n.a,{href:"https://vitejs.dev/config/",children:(0,o.jsx)(n.code,{children:"vite.config.js"})})," in the project root and add the following to it:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { defineConfig } from 'vite'\n\nexport default defineConfig({\n  server: {open: true}\n})\n"})}),"\n",(0,o.jsx)(n.p,{children:"and run"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm start\n"})}),"\n",(0,o.jsx)(n.p,{children:"from the command line. If all went well, a tab should open in your default browser,\nand you should see a black rectangle at the top left of your screen."})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>s});var t=i(6540);const o={},r=t.createContext(o);function l(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);
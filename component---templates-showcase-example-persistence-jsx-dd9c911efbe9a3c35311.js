(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"1A4c":function(t,e,n){"use strict";n.r(e);var r=n("q1tI"),i=n.n(r),a=n("z0FI"),o=(n("5irr"),n("PG+Z")),u=n("UD/Y"),s=(n("h3Sa"),n("E5k/"),n("rhVh")),c=n("BunF");var h=[-1,0,0,0,1,0,0,0,-1,0,0,1,0,-1,0,1,0,0],l=[3,4,5,3,5,1,3,1,0,3,0,4,4,0,2,4,2,5,2,0,1,5,2,1],f=function(t){var e,n;function r(e){void 0===e&&(e={});var n=e.id,r=void 0===n?Object(c.c)("ico-sphere-geometry"):n,i=function(t){var e=t.iterations,n=void 0===e?0:e,r=Math.PI,i=2*r,a=[].concat(h),o=[].concat(l);a.push(),o.push();for(var u=function(){var t={};return function(e,n){var r=((e*=3)<(n*=3)?e:n)+"|"+(e>n?e:n);if(r in t)return t[r];var i=a[e],o=a[e+1],u=a[e+2],s=(i+a[n])/2,c=(o+a[n+1])/2,h=(u+a[n+2])/2,l=Math.sqrt(s*s+c*c+h*h);return s/=l,c/=l,h/=l,a.push(s,c,h),t[r]=a.length/3-1}}(),c=0;c<n;c++){for(var f=[],v=0;v<o.length;v+=3){var d=u(o[v+0],o[v+1]),p=u(o[v+1],o[v+2]),y=u(o[v+2],o[v+0]);f.push(y,o[v+0],d,d,o[v+1],p,p,o[v+2],y,d,p,y)}o=f}for(var g=new Array(a.length),m=new Array(a.length/3*2),b=o.length-3;b>=0;b-=3){var w=o[b+0],k=o[b+1],O=o[b+2],j=3*w,E=3*k,x=3*O,M=2*w,S=2*k,A=2*O,_=a[j+0],C=a[j+1],z=a[j+2],I=Math.acos(z/Math.sqrt(_*_+C*C+z*z)),P=Math.atan2(C,_)+r,L=I/r,T=1-P/i,N=a[E+0],q=a[E+1],V=a[E+2],R=Math.acos(V/Math.sqrt(N*N+q*q+V*V)),F=Math.atan2(q,N)+r,D=R/r,B=1-F/i,G=a[x+0],Z=a[x+1],Q=a[x+2],U=Math.acos(Q/Math.sqrt(G*G+Z*Z+Q*Q)),W=Math.atan2(Z,G)+r,X=U/r,Y=1-W/i,H=[G-N,Z-q,Q-V],J=[_-N,C-q,z-V],K=new s.a(H).cross(J).normalize(),$=void 0;(0===T||0===B||0===Y)&&(0===T||T>.5)&&(0===B||B>.5)&&(0===Y||Y>.5)&&(a.push(a[j+0],a[j+1],a[j+2]),$=a.length/3-1,o.push($),m[2*$+0]=1,m[2*$+1]=L,g[3*$+0]=K.x,g[3*$+1]=K.y,g[3*$+2]=K.z,a.push(a[E+0],a[E+1],a[E+2]),$=a.length/3-1,o.push($),m[2*$+0]=1,m[2*$+1]=D,g[3*$+0]=K.x,g[3*$+1]=K.y,g[3*$+2]=K.z,a.push(a[x+0],a[x+1],a[x+2]),$=a.length/3-1,o.push($),m[2*$+0]=1,m[2*$+1]=X,g[3*$+0]=K.x,g[3*$+1]=K.y,g[3*$+2]=K.z),g[j+0]=g[E+0]=g[x+0]=K.x,g[j+1]=g[E+1]=g[x+1]=K.y,g[j+2]=g[E+2]=g[x+2]=K.z,m[M+0]=T,m[M+1]=L,m[S+0]=B,m[S+1]=D,m[A+0]=Y,m[A+1]=X}return{indices:{size:1,value:new Uint16Array(o)},attributes:{POSITION:{size:3,value:new Float32Array(a)},NORMAL:{size:3,value:new Float32Array(g)},TEXCOORD_0:{size:2,value:new Float32Array(m)}}}}(e),a=i.indices,o=i.attributes;return t.call(this,Object.assign({},e,{id:r,indices:a,attributes:Object.assign({},o,{},e.attributes)}))||this}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r}(o.a);var v=n("bjw9"),d=n("mECX"),p=n("WFpA"),y=n("IObG"),g=n("lHlH"),m=n("WUN0"),b=n("gmAo"),w=n("aI42");var k,O,j,E,x,M="attribute vec2 aPosition;\n\nvoid main(void) {\n  gl_Position = vec4(aPosition, 0, 1);\n}\n",S=Object(w.b)(),A=[],_=[],C=[],z=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.getInfo=function(){return"\n<p>\n  Electron trails renderings persist across multiple frames.\n<p>\n  Uses multiple luma.gl <code>Framebuffer</code>s to hold previously rendered data between frames.\n</p>\n"};var i=r.prototype;return i.onInitialize=function(t){var e=t.gl,n=t.width,r=t.height;Object(g.c)(e,{clearColor:[0,0,0,1],clearDepth:1,depthTest:!0,depthFunc:e.LEQUAL,faceCulling:!0,cullFace:e.BACK}),k=new d.a(e,{width:n,height:r}),O=[new d.a(e,{width:n,height:r}),new d.a(e,{width:n,height:r})];var i=new o.a({attributes:{aPosition:{value:new Float32Array([-1,-1,1,-1,1,1,-1,-1,1,1,-1,1]),size:2}},vertexCount:6});j=new u.a(e,{id:"quad",program:new p.a(e,{vs:M,fs:"precision highp float;\n\nuniform sampler2D uTexture;\nuniform vec2 uRes;\n\nvoid main(void) {\n  vec2 p = gl_FragCoord.xy/uRes.xy;\n  gl_FragColor = texture2D(uTexture, p);\n}\n"}),geometry:i}),E=new u.a(e,{id:"persistence-quad",program:new p.a(e,{vs:M,fs:"precision highp float;\n\nuniform sampler2D uScene;\nuniform sampler2D uPersistence;\nuniform vec2 uRes;\n\nvoid main(void) {\n  vec2 p = gl_FragCoord.xy / uRes.xy;\n  vec4 cS = texture2D(uScene, p);\n  vec4 cP = texture2D(uPersistence, p);\n  gl_FragColor = mix(cS*4.0, cP, 0.9);\n}\n"}),geometry:i}),x=new u.a(e,{id:"electron",geometry:new f({iterations:4}),program:new p.a(e,{vs:"attribute vec3 positions;\nattribute vec3 normals;\n\nuniform mat4 uModelView;\nuniform mat4 uProjection;\n\nvarying vec3 normal;\n\nvoid main(void) {\n  gl_Position = uProjection * uModelView * vec4(positions, 1.0);\n  normal = vec3((uModelView * vec4(normals, 0.0)));\n}\n",fs:"precision highp float;\n\nuniform vec3 uColor;\nuniform bool uLighting;\n\nvarying vec3 normal;\n\nvoid main(void) {\n  float d = 1.0;\n  if (uLighting) {\n    vec3 l = normalize(vec3(1,1,2));\n    d = dot(normal, l);\n  }\n  gl_FragColor = vec4(uColor * d, 1);\n}\n"})});for(var a=0;a<64;a++){var c=new s.a(S()-.5,S()-.5,S()-.5),h=S()+1;c.normalize().scale(h);c.scale(1.25),A.push(c);var l=new s.a(S()-.5,S()-.5,S()-.5),v=c.clone().cross(l).normalize(),y=4/h*.0125,b=(new m.a).rotateAxis(y,v);_.push(b)}for(var w=0;w<64;w++){var z=new s.a(S()-.5,S()-.5,S()-.5);z=z.normalize().scale(.5),C.push(z)}},i.onRender=function(t){var e=t.gl,n=t.tick,r=t.width,i=t.height,a=t.aspect;k.resize({width:r,height:i}),O[0].resize({width:r,height:i}),O[1].resize({width:r,height:i});var o=(new m.a).perspective({fov:Object(b.e)(75),aspect:a}),u=(new m.a).lookAt({eye:[0,0,4]});Object(y.a)(e,{framebuffer:k,color:[0,0,0,1],depth:1});for(var s=0;s<64;s++){A[s]=_[s].transformVector(A[s]);var c=(new m.a).translate(A[s]).scale([.06125,.06125,.06125]);x.draw({framebuffer:k,uniforms:{uModelView:u.clone().multiplyRight(c),uView:u,uProjection:o,uColor:[0,.5,1],uLighting:0}})}for(var h=0;h<64;h++){var l=(new m.a).rotateXYZ([.013*n,0,0]).rotateXYZ([0,.021*n,0]).translate(C[h]),f=[l[12],l[13],l[14]];l.identity().translate(f).scale([.25,.25,.25]),x.draw({framebuffer:k,uniforms:{uModelView:u.clone().multiplyRight(l),uProjection:o,uColor:[1,.25,.25],uLighting:1}})}var v=n%2,d=O[v],p=O[1-v];Object(y.a)(e,{framebuffer:d,color:!0,depth:!0}),E.draw({framebuffer:d,uniforms:{uScene:k.texture,uPersistence:p.texture,uRes:[r,i]}}),Object(y.a)(e,{color:!0,depth:!0}),j.draw({uniforms:{uTexture:d.texture,uRes:[r,i]}})},r}(v.a);"undefined"==typeof window||window.website||(new z).start();n.d(e,"default",(function(){return I}));var I=function(t){var e,n;function r(){return t.apply(this,arguments)||this}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.render=function(){return i.a.createElement(a.a,{AnimationLoop:z,exampleConfig:this.props.pageContext.exampleConfig})},r}(i.a.Component)},"PG+Z":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("YBKJ"),n("9ZhD"),n("E5k/");var r=n("BunF"),i=n("Iq2B");function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}var u={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},s=function(){function t(t){void 0===t&&(t={});var e=t,n=e.id,i=void 0===n?Object(r.c)("geometry"):n,a=e.drawMode,o=void 0===a?u.TRIANGLES:a,s=e.attributes,c=void 0===s?{}:s,h=e.indices,l=void 0===h?null:h,f=e.vertexCount,v=void 0===f?null:f;this.id=i,this.drawMode=0|o,this.attributes={},this.userData={},this._setAttributes(c,l),this.vertexCount=v||this._calculateVertexCount(this.attributes,this.indices)}o(t,null,[{key:"DRAW_MODE",get:function(){return u}}]);var e=t.prototype;return e.getVertexCount=function(){return this.vertexCount},e.getAttributes=function(){return this.indices?Object.assign({indices:this.indices},this.attributes):this.attributes},e._print=function(t){return"Geometry "+this.id+" attribute "+t},e._setAttributes=function(t,e){for(var n in e&&(this.indices=ArrayBuffer.isView(e)?{value:e,size:1}:e),t){var r=t[n];r=ArrayBuffer.isView(r)?{value:r}:r,Object(i.a)(ArrayBuffer.isView(r.value),this._print(n)+": must be typed array or object with value as typed array"),"POSITION"!==n&&"positions"!==n||r.size||(r.size=3),"indices"===n?(Object(i.a)(!this.indices),this.indices=r):this.attributes[n]=r}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this},e._calculateVertexCount=function(t,e){if(e)return e.value.length;var n=1/0;for(var r in t){var a=t[r],o=a.value,u=a.size;!a.constant&&o&&u>=1&&(n=Math.min(n,o.length/u))}return Object(i.a)(Number.isFinite(n)),n},o(t,[{key:"mode",get:function(){return this.drawMode}}]),t}()},aI42:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var r=function(){function t(){}t.getInfo=function(){return""};var e=t.prototype;return e.start=function(){},e.stop=function(){},e.delete=function(){},e._setDisplay=function(){},e._getCanvas=function(t){var e;if(void 0===t&&(t={}),t.canvas){e=document.getElementById(t.canvas);var n=window.devicePixelRatio||1;e.height=e.clientHeight*n,e.width=e.clientWidth*n}else(e=document.createElement("canvas")).width=800,e.height=600,document.body.appendChild(e);return e},t}();function i(){var t=1,e=1;return function(){return t=Math.sin(17.23*e),e=Math.cos(27.92*t),(n=1432.71*Math.abs(t*e))-Math.floor(n);var n}}},rhVh:function(t,e,n){"use strict";var r=n("QDMQ"),i=n("ls4f"),a=n("L6So"),o=n("Ccfo"),u=n("x364"),s=n("zgn+"),c=n("+OWk"),h=n("5tna"),l=function(t){function e(){return Object(r.a)(this,e),Object(a.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(i.a)(e,[{key:"len",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function(){return this.len()}},{key:"lengthSquared",value:function(){for(var t=0,e=0;e<this.ELEMENTS;++e)t+=this[e]*this[e];return t}},{key:"magnitudeSquared",value:function(){return this.lengthSquared()}},{key:"distance",value:function(t){return Math.sqrt(this.distanceSquared(t))}},{key:"distanceSquared",value:function(t){for(var e=0,n=0;n<this.ELEMENTS;++n){var r=this[n]-t[n];e+=r*r}return Object(c.a)(e)}},{key:"dot",value:function(t){for(var e=0,n=0;n<this.ELEMENTS;++n)e+=this[n]*t[n];return Object(c.a)(e)}},{key:"normalize",value:function(){var t=this.magnitude();if(0!==t)for(var e=0;e<this.ELEMENTS;++e)this[e]/=t;return this.check()}},{key:"multiply",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++)for(var a=i[r],o=0;o<this.ELEMENTS;++o)this[o]*=a[o];return this.check()}},{key:"divide",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++)for(var a=i[r],o=0;o<this.ELEMENTS;++o)this[o]/=a[o];return this.check()}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"distanceTo",value:function(t){return this.distance(t)}},{key:"distanceToSquared",value:function(t){return this.distanceSquared(t)}},{key:"getComponent",value:function(t){return Object(h.a)(t>=0&&t<this.ELEMENTS,"index is out of range"),Object(c.a)(this[t])}},{key:"setComponent",value:function(t,e){return Object(h.a)(t>=0&&t<this.ELEMENTS,"index is out of range"),this[t]=e,this.check()}},{key:"addVectors",value:function(t,e){return this.copy(t).add(e)}},{key:"subVectors",value:function(t,e){return this.copy(t).subtract(e)}},{key:"multiplyVectors",value:function(t,e){return this.copy(t).multiply(e)}},{key:"addScaledVector",value:function(t,e){return this.add(new this.constructor(t).multiplyScalar(e))}},{key:"x",get:function(){return this[0]},set:function(t){return this[0]=Object(c.a)(t)}},{key:"y",get:function(){return this[1]},set:function(t){return this[1]=Object(c.a)(t)}}]),e}(s.a),f=n("gmAo"),v=n("MTwu"),d=n("y1Qd");n.d(e,"a",(function(){return y}));var p=[0,0,0],y=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(r.a)(this,e),t=Object(a.a)(this,Object(o.a)(e).call(this,-0,-0,-0)),1===arguments.length&&Object(f.d)(n)?t.copy(n):(f.a.debug&&(Object(c.a)(n),Object(c.a)(i),Object(c.a)(u)),t[0]=n,t[1]=i,t[2]=u),t}return Object(u.a)(e,t),Object(i.a)(e,[{key:"set",value:function(t,e,n){return this[0]=t,this[1]=e,this[2]=n,this.check()}},{key:"copy",value:function(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.check()}},{key:"fromObject",value:function(t){return f.a.debug&&(Object(c.a)(t.x),Object(c.a)(t.y),Object(c.a)(t.z)),this[0]=t.x,this[1]=t.y,this[2]=t.z,this.check()}},{key:"toObject",value:function(t){return t.x=this[0],t.y=this[1],t.z=this[2],t}},{key:"angle",value:function(t){return v.a(this,t)}},{key:"cross",value:function(t){return v.c(this,this,t),this.check()}},{key:"rotateX",value:function(t){var e=t.radians,n=t.origin,r=void 0===n?p:n;return v.h(this,this,r,e),this.check()}},{key:"rotateY",value:function(t){var e=t.radians,n=t.origin,r=void 0===n?p:n;return v.i(this,this,r,e),this.check()}},{key:"rotateZ",value:function(t){var e=t.radians,n=t.origin,r=void 0===n?p:n;return v.j(this,this,r,e),this.check()}},{key:"transform",value:function(t){return this.transformAsPoint(t)}},{key:"transformAsPoint",value:function(t){return v.l(this,this,t),this.check()}},{key:"transformAsVector",value:function(t){return Object(d.c)(this,this,t),this.check()}},{key:"transformByMatrix3",value:function(t){return v.k(this,this,t),this.check()}},{key:"transformByMatrix2",value:function(t){return Object(d.b)(this,this,t),this.check()}},{key:"transformByQuaternion",value:function(t){return v.m(this,this,t),this.check()}},{key:"ELEMENTS",get:function(){return 3}},{key:"z",get:function(){return this[2]},set:function(t){return this[2]=Object(c.a)(t)}}]),e}(l)}}]);
//# sourceMappingURL=component---templates-showcase-example-persistence-jsx-dd9c911efbe9a3c35311.js.map